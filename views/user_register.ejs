<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="/css/bootstrap.css">
		<script type="text/javascript" src="/js/angular.js"></script>
		<script type="text/javascript" src="/js/jquery.js"></script>
		<script type="text/javascript" src="/js/bootstrap.js"></script>
		<script src='https://www.google.com/recaptcha/api.js'></script>
		<style type="text/css">
		input.ng-touched.ng-invalid {
			border: 1px solid #e74c3c;
		}
		</style>
		<title>register</title>
	</head>
	<body ng-app="registerValidation">
		<div class="container">
			<div ng-controller="registerController" class="col-md-6 col-md-offset-3">
				<div class="page-header">
					<h1>회원가입</h1>
				</div>
				<form action="/user/register" name="form" method="POST" novalidate class="register-form">
					<div class="form-group">
						<label for="nameInput">이름</label>
						<input type="text" id="usernameInput" class="form-control" name="name" placeholder="이름" ng-model="user.name" ng-Minlength=2 ng-Maxlength=32 required>
						<br/>
						<div ng-show="form.$sumbitted || form.name.$touched">
							<div class="alert alert-danger" ng-show="form.name.$error.required" role="alert">
								<p>이름을 입력하지 않았습니다.</p>
							</div>
							<div class="alert alert-danger" ng-show="form.name.$error.minlength || form.name.$error.maxlength" role="alert">
								<p>이름은 2문자 이상, 32문자 이하여야 합니다.</p>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label for="usernameInput">아이디</label>
						<input type="text" id="usernameInput" class="form-control" name="username" placeholder="아이디" ng-model="user.id" ng-pattern="/^[a-zA-Z0-9]+$/" ng-Maxlength=32 required>
						<br/>
						<div ng-show="form.$sumbitted || form.username.$touched">
							<div class="alert alert-danger" ng-show="form.username.$error.required" role="alert">
								<p>아이디를 입력하지 않았습니다.</p>
							</div>
							<div class="alert alert-danger" ng-show="form.username.$error.maxlength" role="alert">
								<p>아이디는 32문자 이하여야 합니다.</p>
							</div>
							<div class="alert alert-danger" ng-show="form.username.$invalid" role="alert">
								<p>아이디는 영어 또는 숫자로 이루어져야 합니다.</p>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label for="passwordInput">비밀번호</label>
						<input type="password" id="passwordInput" class="form-control" name="password" placeholder="비밀번호" ng-model="user.password" ng-Minlength=8 ng-Maxlength=64 required>
						<br/>
						<div ng-show="form.$sumbitted || form.password.$touched">
							<div class="alert alert-danger" ng-show="form.password.$error.required" role="alert">
								<p>비밀번호를 입력하지 않았습니다.</p>
							</div>
							<div class="alert alert-danger" ng-show="form.password.$error.minlength || form.password.$error.maxlength" role="alert">
								<p>비밀번호는 8문자 이상, 64문자 이하여야 합니다.</p>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label for="mailInput">E-mail</label>
						<input type="email" id="mailInput" class="form-control" name="mail" placeholder="E-mail" ng-model="user.mail" ng-Minlength=3 ng-Maxlength=254 required>
						<br/>
						<div ng-show="form.$sumbitted || form.mail.$touched">
							<div class="alert alert-danger" ng-show="form.mail.$error.required" role="alert">
								<p>E-mail 주소를 입력하지 않았습니다.</p>
							</div>
							<div class="alert alert-danger" ng-show="form.mail.$error.minlength || form.mail.$error.maxlength" role="alert">
								<p>E-mail 주소는 3문자 이상, 254문자 이하여야 합니다.</p>
							</div>
							<div class="alert alert-danger" ng-show="form.mail.$error.email" role="alert">
								<p>E-mail 주소가 올바르지 않습니다.</p>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label for="phoneInput">전화번호</label>
						<input type="tel" id="phoneInput" class="form-control" name="phone" placeholder="전화번호" ng-model="user.phone" ng-pattern="/^[0-9]+$/" ng-Minlength=9 ng-Maxlength=12 required>
						<div ng-show="form.$sumbitted || form.phone.$touched">
							<br/>
							<div class="alert alert-danger" ng-show="form.phone.$error.required" role="alert">
								<p>전화번호를 입력하지 않았습니다.</p>
							</div>
							<div class="alert alert-danger" ng-show="form.phone.$error.minlength || form.phone.$error.maxlength" role="alert">
								<p>전화번호는 9문자 이상, 12문자 이하여야 합니다.</p>
							</div>
							<div class="alert alert-danger" ng-show="form.phone.$invalid" role="alert">
								<p>전화번호는 숫자로만 이루어져야 합니다.</p>
							</div>
						</div>
					</div>
					<div class="g-recaptcha" data-sitekey="6Lc9rQkTAAAAANMmcu73j0W8Jo-LffN4CH0Fi8Wq"></div><br/>
					<input type="hidden" name="_csrf" value="<%=csrfToken%>">
					<div class="form-group">
						<input type="submit" class="btn btn-primary" value="회원가입">
					</div>
				</form>
			</div>
		</div>
		<script type="text/javascript">
		angular.module('registerValidation', [])
			.controller('registerController', ['$scope', function($scope) {
			  $scope.user = {};
			}]);
		</script>
	</body>
</html>
